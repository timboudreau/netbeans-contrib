<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
    <head>
        <title>NBJAD Module</title>
        <link rel="StyleSheet" href="nbdocs:/org/netbeans/modules/usersguide/ide.css" type="text/css">
    </head>
    <body>
        <h2>NBJAD Module</h2>
        <p>This module integrates the popular Jad Decompiler with the Netbeans
        IDE. This module provides the following actions:</p>
        <table border="0" cellspacing="4" cellpadding="4">
            <tr><th>Action</th><th>Key binding</th><th>Icon</th></tr>
            <tr><td>Decompile</td><td><code>Ctrl+Shift-F9</code></td><td><img alt="Decompile" src="nbjad.gif"></td></tr>
        </table>
        <h2>How to configure Jad</h2>
        Download the Jad decompiler from http://www.kpdus.com/jad.html, install
        it and configure the location in the <b>Tools:Options:Decompile</b>panel.
        Make sure you read and follow the Jad license.
        <h2>How it works</h2>
        When the <b>View:Decompile</b> (<code>Ctrl+Shift-F9</code>) action or the
        <b>Decompile</b> action in the pop up menu is invoked on the selected
        <code>.class</code> file node the Jad decompiler is invoked on it with
        the following options:
        <pre>
jad -o -r -s .java -d &lt;user.home&gt;/.nbjad [additional jad options] .class-file

where:

-o - overwrite the output files
-r - create folder structure consistent with package specified in the <code>.class</code> file
-s - suffix for output files i.e. .java
-d - output directory. This can be overridden with the System property
     "org.netbeans.modules.java.tools.nbjad.output.directory"

The following additonal options can be specified using the
<b>Tools:Options:Decompile</b> panel:

         -a           - generate JVM instructions as comments (annotate)
         -af          - output fully qualified names when annotating
         -b           - generate redundant braces (braces)
         -clear       - clear all prefixes, including the default ones
         -dead        - try to decompile dead parts of code (if there are any)
         -dis         - disassembler only (disassembler)
         -f           - generate fully qualified names (fullnames)
         -ff          - output fields before methods (fieldsfirst)
         -i           - print default initializers for fields (definits)
         -l&lt;num&gt;      - split strings into pieces of max &lt;num&gt; chars (splitstr)
         -lnc         - output original line numbers as comments (lnc)
         -lradix&lt;num&gt; - display long integers using the specified radix
         -nl          - split strings on newline characters (splitstr)
         -noconv      - don't convert Java identifiers into valid ones (noconv)
         -nocast      - don't generate auxiliary casts
         -noclass     - don't convert .class operators
         -nocode      - don't generate the source code for methods
         -noctor      - suppress the empty constructors
         -nodos       - turn off check for class files written in DOS mode
         -nofd        - don't disambiguate fields with the same names (nofldis)
         -noinner     - turn off the support of inner classes
         -nolvt       - ignore Local Variable Table entries (nolvt)
         -nonlb       - don't insert a newline before opening brace (nonlb)
         -pa &lt;pfx&gt;    - prefix for all packages in generated source files
         -pc &lt;pfx&gt;    - prefix for classes with numerical names (default: _cls)
         -pe &lt;pfx&gt;    - prefix for unused exception names (default: _ex)
         -pf &lt;pfx&gt;    - prefix for fields with numerical names (default: _fld)
         -pi&lt;num&gt;     - pack imports into one line using .* (packimports)
         -pl &lt;pfx&gt;    - prefix for locals with numerical names (default: _lcl)
         -pm &lt;pfx&gt;    - prefix for methods with numerical names (default: _mth)
         -pp &lt;pfx&gt;    - prefix for method parms with numerical names (default:_prm)
         -pv&lt;num&gt;     - pack fields with the same types into one line (packfields)
         -radix&lt;num&gt;  - display integers using the specified radix (8, 10, or 16)
         -safe        - generate additional casts to disambiguate methods/fields
         -space       - output space between keyword (if, while, etc) and expression
         -stat        - show the total number of processed classes/methods/fields
         -t&lt;num&gt;      - use &lt;num&gt; spaces for indentation (default: 4)
         -t           - use tabs instead of spaces for indentation
         -8           - convert Unicode strings into ANSI strings (ansi)
        </pre>
        <p>
            The output window shows the status of decompilation. 
            <i>Unfortunately the <b>Decompile</b> action in the pop up menu is not
            available on the <code>.class</code> files inside a <code>jar</code> file.</i>
        </p>
        <p>
            If the <code>.class</code> file is inside a <code>jar</code> file it is
            first copied to the disk under the
            <code>System.getProperty("user.home") + File.separator + ".nbjad"</code>
            folder. The copied file is marked for deletion on vm exit.
        </p>
        <p>
            The decompiled <code>.java</code> file is output to a folder, consistent
            with the package specified in the <code>.class</code>, under the
            <code>System.getProperty("user.home") + File.separator + ".nbjad"</code>.
            folder. The output <code>.java</code> file is opened in a Netbeans Java
            Editor tab.
        </p>
    </body>
</html>
